parameters:
  endpointName: ""
  configPath: ""
  policiesPath: ""

steps:
- task: azdevautomation@1
  displayName: Create project
  inputs:
    ConnectedService: ${{ parameters.endpointName }}
    Config: ${{ parameters.configPath }}
    Policies: ${{ parameters.policiesPath }}
    ProjectSetup: true
    AccessPermissions: false
    BranchPolicies: false
    ServiceConnections: false

- task: azdevautomation@1
  displayName: Configure permissions
  inputs:
    ConnectedService: ${{ parameters.endpointName }}
    Config: ${{ parameters.configPath }}
    Policies: ${{ parameters.policiesPath }}
    ProjectSetup: false
    AccessPermissions: true
    BranchPolicies: false
    ServiceConnections: false
